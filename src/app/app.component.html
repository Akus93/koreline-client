<header>
  <md-toolbar color="primary">
    <img routerLink="/" src="/assets/logo2.png" height="85%"/>

    <span class="fill-remaining-space"></span>
    <div *ngIf="!authService.isAuth()">
      <!--<button md-button routerLink="/login" >Zaloguj się</button>-->
      <button md-button (click)="openLoginDialog()" >Zaloguj się</button>
      <!--<button md-button routerLink="/registration" >Zarejestruj się</button>-->
      <button md-button (click)="openRegistrationDialog()" >Zarejestruj się</button>
    </div>
    <div *ngIf="authService.isAuth()">
      <span *ngIf="!authService.isTeacher()">
        <button md-button routerLink="/lesson/create" >Zostań nauczycielem</button>
      </span>
      <span *ngIf="authService.isTeacher()">
        <button md-button routerLink="/lesson/create" >Dodaj nową ofertę</button>
        <button md-button routerLink="/teacher/my-lessons" >Prowadzone lekcje</button>
      </span>

      <button md-button routerLink="/user/my-lessons" >Moje lekcje</button>

      <span *ngIf="notifications?.length">
        <button md-icon-button [md-menu-trigger-for]="notificationsMenu">
          <md-icon>notifications_active</md-icon> {{notifications?.length}}
        </button>

        <md-menu x-position="before" y-position="below" #notificationsMenu="mdMenu" style="width: 500px;">
        <div *ngFor="let notification of notifications">
          <div>
            <div><b>{{notification.title}}</b></div>
            <div>{{notification.text}}</div>
            <div><i>{{timeAgo(notification.createDate)}}</i></div>
          </div>

          <hr>
        </div>
        </md-menu>

      </span>

      <span *ngIf="!notifications">
        <button md-icon-button>
          <md-icon>notifications_off</md-icon>
        </button>
      </span>




      <span *ngIf="!authService.hasPhoto()">
        <button md-icon-button [md-menu-trigger-for]="menu">
          <span><md-icon>account_circle</md-icon></span>
        </button>
      </span>

      <span *ngIf="authService.hasPhoto()">
        <img class="profile-photo" src="{{ authService.getPhoto() }}" [md-menu-trigger-for]="menu">
      </span>

      <md-menu x-position="before" #menu="mdMenu">
        <button md-menu-item routerLink="/user/edit-profile">Edytuj profil</button>
        <button md-menu-item routerLink="/user/edit-photo">Zmień zdjęcie</button>
        <button md-menu-item (click)="logout()">Wyloguj się</button>
      </md-menu>

    </div>
  </md-toolbar>
</header>

  <main>
    <router-outlet></router-outlet>
  </main>

  <footer>
    <div class="container footer-container">
      <div class="footer-content">
        <ul>
          <li><a href="#">First</a></li>
          <li><a href="#">Secound</a></li>
          <li><a href="#">Third</a></li>
        </ul>
        <div class="author-info">
          Copyright © 2016 Dawid Rdzanek
        </div>
      </div>
    </div>

  </footer>

<ng2-toasty></ng2-toasty>

